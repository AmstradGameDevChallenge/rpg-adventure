10 '  
20 ' RPG GAME
30 ' by @dfreniche
40 ' July 2019
50 '

100 ' INITIALIZE
110 DEFINT a-z
120 energy=100:attack=30:defense=15
130 energyen=90:attacken=20:defenseen=10:a$=""

200 ' PRESENTATION
210 MODE 1
211 ' DEFINE SPRITES
212 GOSUB 1110
215 GOSUB 1010
216 GOSUB 1090
220 PRINT"PRESS ENTER TO START"
230 INPUT"",a$
240 CLS

300 ' PRINT GAME STATUS
310 ' 
320 LOCATE 1,1: PRINT CHR$(251);" PLAYER ["energy"](a"attack")(d"defense")  "
330 LOCATE 1,2: PRINT CHR$(250);" ENEMY  ["energyen"](a"attacken")(d"defenseen")"

400 ' PLAYER ACTIONS
410 LOCATE 1,5: INPUT"ACTION (A/D)";a$: a$=UPPER$(a$)
420 IF a$="A" THEN GOSUB 490:GOTO 510
430 IF a$="D" THEN LOCATE 1,4: ?"Player defends!  ":energy=energy+defense:GOTO 510
440 GOTO 410

480 ' PLAYER ATTACKS
490 energyen=energyen-attack
495 LOCATE 1,4: ?"Player attacks!  "
496 RETURN

500 ' ENEMY ACTIONS
510 IF RND>0.25 THEN LOCATE 1,4: ?"Enemy attacks!  ":energy=energy-attacken:GOTO 320
520 LOCATE 1,4: ?"Enemy defends!  ":energyen=energyen+defenseen:GOTO 320


1000 ' PRINT PRESENTATION FROM FILE
1010 OPENIN "PRESENT.TXT"
1020 WHILE NOT EOF
1030 INPUT #9, l$
1040 ?l$
1050 WEND
1060 CLOSEIN
1070 RETURN

1080 ' PRINT LINE OF SPRITES
1090 FOR N=1 TO 40
1091 IF N MOD 2=0 THEN ?CHR$(250); ELSE ?CHR$(251);
1092 NEXT N
1093 ?""
1094 RETURN

1100 ' SPRITE DEFINITION
1110 SYMBOL AFTER 250
1115 ' ENEMY
1120 SYMBOL 250,56,108,84,238,198,186,254,170
1125 ' MONSTER
1130 SYMBOL 251,56,59,59,18,126,18,124,68
1140 RETURN

10000 ' LEAVE THIS EMPTY LINE AT THE END FOR UNIX2DOS
